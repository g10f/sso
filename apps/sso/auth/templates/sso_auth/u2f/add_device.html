{% extends "base.html" %}
{% load i18n %}

{% block script %}
  {{ block.super }}
  {% include 'sso_auth/u2f/_jscript.html' %}
{% endblock script %}

{% block title %}{% translate 'Add U2F Device' %}{% endblock %}

{% block breadcrumb %}
  <ol class="breadcrumb">
    <li><a href="{% url 'home' %}">{% translate 'Home' %}</a></li>
    <li><a href="{% url 'auth:mfa-detail' %}">{% translate 'Security' %}</a></li>
    <li class="active">{% translate 'U2F Device Setup' %}</li>
  </ol>
{% endblock breadcrumb %}

{% block right_content %}

  <form method="post" id="u2f_register_form">
    <h1>{% translate 'Register U2F device' %}</h1>

    <div class="alert alert-info">
      {% blocktranslate trimmed %}
        Please touch the flashing U2F device now.
        You may be prompted to allow the site permission to access your security keys. After granting permission, the device will start to blink.
      {% endblocktranslate %}
    </div>

    <div class="alert alert-danger browser-not-supported">
      {% translate 'Your current browser is not yet supported.' %}
    </div>

    <div class="" id="u2f-status"></div>

    {% for hidden in form.hidden_fields %}{{ hidden }}{% endfor %}

    {% include 'include/_form_boilerplate.html' %}
    {% include 'include/_field.html' with field=form.name %}

    <div class="form-group hidden">
      <div class="g10f-form-submit">
        <button type="submit" class="btn btn-primary">{% translate 'Submit' %}</button>
      </div>
    </div>
  </form>

{% endblock right_content %}
